# v2.0 Mobile App (React Native + Expo)

## Milestone Goal

Ship a native React Native app for Android that provides core learning functionality, preserving the existing Play Store listing. iOS follows after Apple Developer enrollment.

## Key Decisions

| Decision | Value | Rationale |
|----------|-------|-----------|
| Package ID | `com.mklanguage.app` | Preserve Play Store listing |
| Expo workflow | Managed | Simpler builds, no native code |
| Auth | Email/password + Google | Existing providers |
| State | Zustand + React Query | Offline-friendly |
| UI | NativeWind + custom | Don't share UI with web |

## Scope

**In:** Home, Learn, Practice, Reader, Translator, Profile, Auth
**Out:** IAP, push notifications, Apple Sign-in, audio, background sync

## Phases

### Phase 61: Foundation
**Goal**: Buildable app shell with auth and navigation

- Restore/create `apps/mobile/` with Expo managed workflow
- Configure `app.config.ts` with `com.mklanguage.app` package ID
- Set up EAS build profiles (dev, preview, production)
- Implement auth (email/password + Google Sign-in)
- Create tab navigation structure
- Build Home screen shell

**Research**: Unlikely (Expo patterns established)
**Plans**: 3-4

### Phase 62: Learn Flow
**Goal**: Complete lesson experience with progress tracking

- Level selector component (A1/A2/B1)
- Lesson list with completion indicators
- Lesson runner with 4-section flow
- Progress API integration
- Local progress caching

**Research**: Unlikely (mirrors web implementation)
**Plans**: 2-3

### Phase 63: Practice Flow
**Goal**: Practice session with all question types

- Practice hub with mode selection
- Card stack UI with gestures
- 5 card types: MultipleChoice, Cloze, Typing, TapWords, Matching
- Session results screen
- Offline answer queue

**Research**: Unlikely (uses `@mk/practice` package)
**Plans**: 3-4

### Phase 64: Reader Flow
**Goal**: Reader with tap-to-translate

- Story list with level/topic filters
- Story viewer with selectable text
- Tap-to-translate popup
- Reading progress tracking
- Save to favorites

**Research**: Unlikely (mirrors web reader)
**Plans**: 2-3

### Phase 65: Translator
**Goal**: AI translation tool

- Translation input screen
- API integration
- History (local storage)
- Macedonian keyboard hints

**Research**: Unlikely (existing API)
**Plans**: 1

### Phase 66: Profile & Polish
**Goal**: Profile, settings, store assets

- Profile screen with stats
- Settings screen
- Sign out flow
- App icon, splash, adaptive icon
- Store screenshots

**Research**: Unlikely
**Plans**: 2

### Phase 67: QA & Ship Android
**Goal**: Android production release

- E2E tests (Maestro)
- Manual QA checklist
- Play Store listing update
- Production build & upload
- TWA deprecation notice

**Research**: Unlikely
**Plans**: 2

## Success Criteria

- [ ] App installs from Play Store and launches without crash
- [ ] Can sign in with email/password and Google
- [ ] Can complete a lesson and see progress update
- [ ] Can run a practice session (10+ cards)
- [ ] Can read a story with tap-to-translate
- [ ] Can use translator
- [ ] Works offline with cached data

## Dependencies

- Keystore verified against Play Console
- EAS account ready
- Google OAuth configured for `com.mklanguage.app`

## Timeline

7 phases, estimated 15-20 plans
