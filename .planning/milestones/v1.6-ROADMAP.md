# Milestone v1.6: Reader Overhaul

**Status:** SHIPPED 2026-01-11
**Phases:** 36-41
**Total Plans:** 7

## Overview

Transform the Reader section into a comprehensive, mobile-first reading experience with interactive vocabulary features and better content discovery. This milestone delivered tap-to-translate word lookup, unified vocabulary saving, reading progress tracking, and discovery/navigation improvements.

## Phases

### Phase 36: A2 Reader Wiring

**Goal**: Wire existing A2 graded reader content to the reader UI and audit all reader content
**Depends on**: v1.5 complete
**Plans**: 1 plan

Plans:
- [x] 36-01: Graded reader wiring (12 stories A1/A2/B1) — completed 2026-01-10

**Details:**
- Created 12 graded reader JSON files following ReaderSample interface
- Transformed sentence-based content into readable paragraphs
- Wired all graded readers into reader-samples.ts
- Closed ISS-001 (Wire A2 graded readers to reader UI)

### Phase 37: Tap-to-Translate

**Goal**: Implement tap-to-translate word lookup system for reader content
**Depends on**: Phase 36
**Plans**: 2 plans

Plans:
- [x] 37-01: Pre-analyze graded readers — completed 2026-01-11
- [x] 37-02: Polish tap visual feedback — completed 2026-01-11

**Details:**
- Extended pre-analysis script to handle both 30-day samples and graded readers
- Generated rich word data for all 12 graded reader stories (1,123 words total)
- Each word has: translation, alternativeTranslations, contextHint, POS, difficulty level
- Added shadow depth and select-none for better tap UX

### Phase 38: Reader Vocabulary Save

**Goal**: Enable saving words directly to glossary while reading stories
**Depends on**: Phase 37
**Plans**: 1 plan

Plans:
- [x] 38-01: Unify reader glossary with favorites system — completed 2026-01-11

**Details:**
- Unified reader glossary with existing favorites system
- Words saved via TappableText (category='reader') appear in glossary drawer
- Removed separate reader-glossary localStorage key for single source of truth
- Added cross-tab sync via storage event listener

### Phase 39: Reading Progress

**Goal**: Track story completion, reading time, and per-story progress
**Depends on**: Phase 38
**Plans**: 1 plan

Plans:
- [x] 39-01: Reading progress tracking and library card status — completed 2026-01-11

**Details:**
- Created lib/reading-progress.ts with localStorage-based tracking
- Tracks scrollPercent, timeSpentSeconds, isCompleted, completedAt, lastReadAt
- 2-second debounced auto-save on scroll
- Scroll position restoration on mount
- Library cards show completion status with dynamic CTAs

### Phase 40: Discovery & Navigation

**Goal**: Better filtering by level/topic, improved story browsing experience
**Depends on**: Phase 39
**Plans**: 1 plan

Plans:
- [x] 40-01: Topic filtering, sort options, Continue Reading card — completed 2026-01-11

**Details:**
- Topic filtering with 5 topics (Family, Daily Life, Food, Travel, Culture)
- Sort dropdown with 4 options: Default, Difficulty, Reading Time, My Progress
- Continue Reading card showing most recently read in-progress story
- Enhanced empty states with contextual suggestions
- Reading stats summary showing stories read and in-progress count

### Phase 41: Content & Validation

**Goal**: Validate v1.6 Reader features with comprehensive E2E tests
**Depends on**: Phase 40
**Plans**: 1 plan

Plans:
- [x] 41-01: Reader E2E test suite — completed 2026-01-11

**Details:**
- 56 E2E tests (14 tests × 4 viewports) validating all reader features
- Library browsing, story reading, progress tracking, mobile responsiveness
- Used localStorage seeding for progress tests (debounce too slow for E2E)

---

## Milestone Summary

**Key Decisions:**
- Categorize graded readers as 'story' to integrate with existing Stories section
- Process all .json in graded/ vs only day*.json in samples/
- Unified on existing favorites system rather than creating migration logic
- Topic chips use neutral slate color to differentiate from difficulty color coding
- Sort state kept local (not URL) as view preference, not shareable filter
- Used localStorage seeding for E2E tests (debounce too slow for real saves)

**Issues Resolved:**
- ISS-001: Wire A2 graded readers to reader UI

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None

---

_For current project status, see .planning/ROADMAP.md_
