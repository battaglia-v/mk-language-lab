# Milestone v1.0: Beta

**Status:** SHIPPED 2026-01-07
**Phases:** 1-7
**Total Plans:** 21

## Overview

Transform MKLanguage from a quiz-centric app into a structured, CEFR-aligned learning system. The journey starts with establishing a curriculum backbone from official UKIM materials, then layers progression tracking, practice integrity, vocabulary management, reader organization, and UX cleanup â€” culminating in validation that the core promise ("always resume in the right place, next step obvious") is delivered.

## Phases

### Phase 1: Curriculum Backbone

**Goal**: Parse UKIM textbook PDFs into structured data; structure A1 (Teshkoto) and A2 (Lozje) levels with concepts, vocabulary, grammar per lesson; create B1 skeleton (Zlatovrv); replace ad-hoc lesson ordering with UKIM curriculum order.
**Depends on**: Nothing (first phase)
**Plans**: 4 plans

Plans:
- [x] 01-01: Set up PDF parsing infrastructure and download textbooks
- [x] 01-02: Extract and structure A1 curriculum (Teshkoto)
- [x] 01-03: Extract and structure A2 curriculum (Lozje)
- [x] 01-04: Create B1 skeleton (Zlatovrv) and integrate curriculum ordering

**Details:**
- Used pdfjs-dist legacy build for Node.js ESM compatibility
- Extracted position data (x/y/fontSize) for structure detection
- TOC-based lesson boundaries; journeyId naming: ukim-{level}
- A2 has 8 comprehensive lessons vs A1's 24; grammar from TOC metadata
- B1 skeleton contains chapter titles only (per PROJECT.md scope)
- Upsert seeding pattern for idempotent database population

### Phase 2: Progress & Dashboard

**Goal**: Implement progress tracking (currentPath, currentLesson, lastActivity); update dashboard with "Continue where you left off"; remove static "Start here" after first use; prevent auto-redirect to alphabet.
**Depends on**: Phase 1
**Plans**: 3 plans

Plans:
- [x] 02-01: Implement user progress tracking schema and API
- [x] 02-02: Update dashboard with continuation UX
- [x] 02-03: Remove beginner loop redirect behavior

**Details:**
- Journey becomes active on first lesson completion
- currentLessonId points to NEXT lesson (not current)
- Continue CTA shows only when isActive=true
- Curriculum paths server-side from DB; lesson hrefs use database IDs

### Phase 3: Lesson Practice Integrity

**Goal**: Practice pulls ONLY from completed lessons or explicitly selected vocab sets; remove practice that quizzes unseen content; grammar drills reference source lesson.
**Depends on**: Phase 2
**Plans**: 3 plans

Plans:
- [x] 03-01: Audit current practice content sources
- [x] 03-02: Implement completed-content-only practice filtering
- [x] 03-03: Add lesson references to grammar drills

**Details:**
- Infrastructure focus; vocabulary seeding is future work
- Created GET /api/practice/lesson-vocab endpoint
- Added lesson-review deck type to practice infrastructure
- Grammar-to-curriculum mapping for drill badges

### Phase 4: Vocabulary System

**Goal**: Implement vocab states (new/learning/mastered); allow Save word and Mark "don't know"; add practice modes (Learn new, Review weak, Mixed).
**Depends on**: Phase 3
**Plans**: 3 plans

Plans:
- [x] 04-01: Implement vocab state schema and transitions
- [x] 04-02: Add user vocab actions (save, mark unknown)
- [x] 04-03: Build practice mode selection and filtering

**Details:**
- Vocabulary API uses existing VocabularyWord model
- SRS intervals match lib/srs.ts Leitner pattern (1d, 3d, 7d, 14d, 30d, 90d)
- useVocabulary hook integrated into usePracticeDecks
- Mode selector is UI-only; deck filtering in practice session

### Phase 5: Reader Reorganization

**Goal**: Refactor Reader into folders (Reading Challenges, Short Conversations, Grammar-aligned); move 30-Day content into its own folder; separate challenge content from casual reading.
**Depends on**: Phase 4
**Plans**: 3 plans

Plans:
- [x] 05-01: Design reader folder taxonomy
- [x] 05-02: Migrate content to new folder structure
- [x] 05-03: Update reader UI navigation

**Details:**
- Inject category at runtime rather than adding to JSON files
- Featured 30-Day Challenge card within Reading Challenges section
- Search results remain flat for cross-category discoverability

### Phase 6: Clean Up Confusion

**Goal**: Hide/disable all audio & speaking references; remove dead or unclear settings; add lightweight explainers where ambiguity exists.
**Depends on**: Phase 5
**Plans**: 2 plans

Plans:
- [x] 06-01: Audit and hide audio/speaking features
- [x] 06-02: Remove dead settings and add explainers

**Details:**
- Comment routes rather than delete for easy re-enabling when audio ready
- Keep pages with "Coming Soon" placeholders to avoid 404
- Practice mode descriptions already existed and were clear

### Phase 7: Validation

**Goal**: Update Playwright tests to reflect intended beta UX (don't reintroduce removed features); update docs (intended-beta-ux.md, beta_learning_model.md); agent feedback on learning flow and UX risks.
**Depends on**: Phase 6
**Plans**: 3 plans

Plans:
- [x] 07-01: Update Playwright tests for new UX (pronunciation tests -> Coming Soon validation)
- [x] 07-02: Update documentation (intended-beta-ux.md, beta_readiness_assessment.md)
- [x] 07-03: Conduct agent feedback review (learning flow, UX risks, recommendations)

**Details:**
- Replaced pronunciation test suite with Coming Soon validation (155->55 lines)
- Updated intended-beta-ux.md and beta_readiness_assessment.md with Phase 1-6 changes
- Core promise validated; beta verdict: ready for public release
- Biggest remaining risk: audio expectations (medium severity)

---

## Milestone Summary

**Decimal Phases:**
None - all integer phases executed in order.

**Key Decisions:**
- Progression clarity is the north star (Rationale: If progression works, other issues resolve naturally)
- UKIM curriculum as backbone (Rationale: Real Macedonian educational standard provides legitimacy)
- Lesson-first practice strict (Rationale: Trust requires users never be tested on unseen content)
- Hide audio/speaking entirely (Rationale: Partially working features confuse users)
- Simple SRS over complex algorithm (Rationale: Start simple, complexity can come later)
- pdfjs-dist legacy build for Node.js ESM (Rationale: Standard build has worker issues)
- Upsert pattern for curriculum seeding (Rationale: Idempotent, safe to re-run)
- Comment routes vs delete (Rationale: Easy to re-enable when audio ready)

**Issues Resolved:**
- User feedback: "getting asked questions for words I hadn't been introduced to" - Fixed with lesson-first practice
- User feedback: "never really got the lesson to begin with" - Fixed with UKIM curriculum backbone
- User feedback: "how do I go back to drilling them" - Fixed with vocabulary SRS system
- Beginner loop trap - Fixed with database-driven curriculum paths
- Audio/speaking confusion - Hidden with Coming Soon placeholders

**Issues Deferred:**
- Vocabulary seeding from curriculum (content ready, seeding is future work)
- Full B1 content (skeleton only per PROJECT.md scope)
- Mobile-specific UX polish

**Technical Debt Incurred:**
- Audio routes commented rather than deleted (intentional for future re-enabling)
- Mode selector is UI-only (deck filtering deferred to practice session integration)
- Some empty states awaiting content (Reading Challenges, vocab when empty)

---

_For current project status, see .planning/ROADMAP.md_
