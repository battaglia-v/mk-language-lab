---
phase: 01-curriculum-backbone
plan: 04
type: execute
---

<objective>
Create B1 skeleton structure and integrate all curriculum into the database.

Purpose: Complete the curriculum backbone with B1 placeholder and make A1/A2 content accessible in the app.
Output: Database seeded with UKIM curriculum, B1 skeleton in place, curriculum ordering replaces ad-hoc lessons.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-curriculum-backbone/01-RESEARCH.md
@.planning/phases/01-curriculum-backbone/01-03-SUMMARY.md (after 01-03 completes)
@prisma/schema.prisma
@prisma/seed-curriculum.ts
@data/curriculum/structured/a1-teskoto.json
@data/curriculum/structured/a2-lozje.json

**Depends on:** Plans 01-01 through 01-03 complete (A1 and A2 JSON files exist)
**Target:** Module, CurriculumLesson, VocabularyItem, GrammarNote tables
**Integration:** New journeyIds: ukim-a1, ukim-a2, ukim-b1
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create B1 skeleton from Златоврв chapter titles</name>
  <files>scripts/curriculum/create-b1-skeleton.ts, data/curriculum/structured/b1-zlatovrv.json</files>
  <action>
1. Create create-b1-skeleton.ts that:
   - Loads data/curriculum/raw/b1-zlatovrv.pdf
   - Extracts only chapter/unit titles (first few pages, table of contents)
   - Does NOT extract full content (B1 is skeleton only per PROJECT.md)
   - Creates minimal structure with:
     - journeyId: "ukim-b1"
     - Chapters with titles only
     - Empty lessons array (placeholder)
     - Note: "Content pending - B1 skeleton only"
2. Run: `npx tsx scripts/curriculum/create-b1-skeleton.ts`
3. Output to data/curriculum/structured/b1-zlatovrv.json

B1 is intentionally minimal - just chapter structure for future expansion.
Do NOT extract full B1 content (out of scope per PROJECT.md).
  </action>
  <verify>cat data/curriculum/structured/b1-zlatovrv.json | jq '.chapters | length' shows chapter count > 0</verify>
  <done>B1 skeleton JSON exists with chapter titles, marked as placeholder</done>
</task>

<task type="auto">
  <name>Task 2: Create database seed script for UKIM curriculum</name>
  <files>prisma/seed-curriculum-ukim.ts, package.json</files>
  <action>
1. Create prisma/seed-curriculum-ukim.ts that:
   - Loads all 3 JSON files (a1, a2, b1)
   - Creates/updates Modules with journeyIds: ukim-a1, ukim-a2, ukim-b1
   - Creates CurriculumLessons linked to modules
   - Creates VocabularyItems linked to lessons
   - Creates GrammarNotes linked to lessons
   - Uses Prisma upsert to be idempotent (safe to re-run)
   - Logs progress: "Created X modules, Y lessons, Z vocabulary items"
2. Add npm script: "db:seed:ukim": "npx tsx prisma/seed-curriculum-ukim.ts"
3. Run seed: `npm run db:seed:ukim`
4. Verify data in database

Use upsert pattern to allow re-running without duplicates.
Preserve existing curriculum data (family/travel/culture journeys unchanged).
  </action>
  <verify>npx prisma studio shows Module records with journeyId containing "ukim-"</verify>
  <done>UKIM curriculum seeded to database, all levels present</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>UKIM curriculum integrated into database and accessible in app</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/en/learn
    3. Check: Can you see UKIM curriculum content? (May need UI updates in Phase 2)
    4. Check: Database has ukim-a1, ukim-a2, ukim-b1 modules
    5. Verify: npx prisma studio → Module table shows new journeyIds
    6. Verify: CurriculumLesson table has lessons linked to UKIM modules
    7. Note: UI may not fully display new content yet (that's Phase 2 work)
  </how-to-verify>
  <resume-signal>Type "approved" if data is in database, or describe issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] data/curriculum/structured/b1-zlatovrv.json exists with skeleton
- [ ] prisma/seed-curriculum-ukim.ts exists and runs without errors
- [ ] Database contains ukim-a1, ukim-a2, ukim-b1 modules
- [ ] Lessons and vocabulary linked correctly
- [ ] Human verified database integration
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- UKIM curriculum in database (A1 full, A2 full, B1 skeleton)
- Phase 1 complete - curriculum backbone established
- Ready for Phase 2 (Progress & Dashboard)
</success_criteria>

<output>
After completion, create `.planning/phases/01-curriculum-backbone/01-04-SUMMARY.md` with:
- Phase 1 complete summary
- Total content extracted (modules, lessons, vocab items)
- Any issues or limitations discovered
- Recommendations for Phase 2
</output>
