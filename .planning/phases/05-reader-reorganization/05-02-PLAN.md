---
phase: 05-reader-reorganization
plan: 02
type: execute
---

<objective>
Migrate reader content to new folder structure and update import system.

Purpose: Move JSON sample files from flat samples/ to categorized folders, then update lib/reader-samples.ts to load from new locations.
Output: All content migrated, imports updated, old samples/ marked deprecated.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-reader-reorganization/05-01-SUMMARY.md
@.planning/phases/05-reader-reorganization/TAXONOMY.md

**Current content:**
- 30 files: day01-maliot-princ.json through day30-maliot-princ.json → challenges/30-day-little-prince/
- cafe-conversation.json → conversations/
- day-in-skopje.json → stories/

**Key file to modify:**
@lib/reader-samples.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Move content files to new folders</name>
  <files>data/reader/challenges/30-day-little-prince/*.json, data/reader/conversations/*.json, data/reader/stories/*.json</files>
  <action>
Move files using git mv (preserves history):

1. Move 30-Day Challenge content:
   git mv data/reader/samples/day{01..30}-maliot-princ.json data/reader/challenges/30-day-little-prince/

2. Move conversations:
   git mv data/reader/samples/cafe-conversation.json data/reader/conversations/

3. Move stories:
   git mv data/reader/samples/day-in-skopje.json data/reader/stories/

After moves, data/reader/samples/ should be empty.
  </action>
  <verify>ls data/reader/challenges/30-day-little-prince/ shows 30 files; ls data/reader/conversations/ shows cafe-conversation.json; ls data/reader/stories/ shows day-in-skopje.json</verify>
  <done>All 32 sample files moved to categorized folders, samples/ is empty</done>
</task>

<task type="auto">
  <name>Task 2: Update lib/reader-samples.ts imports</name>
  <files>lib/reader-samples.ts</files>
  <action>
Update all import paths to reflect new folder structure:

1. Change 30-Day Challenge imports from:
   `import day01 from '@/data/reader/samples/day01-maliot-princ.json'`
   to:
   `import day01 from '@/data/reader/challenges/30-day-little-prince/day01-maliot-princ.json'`

2. Change conversation imports from:
   `import cafeConversation from '@/data/reader/samples/cafe-conversation.json'`
   to:
   `import cafeConversation from '@/data/reader/conversations/cafe-conversation.json'`

3. Change story imports from:
   `import dayInSkopje from '@/data/reader/samples/day-in-skopje.json'`
   to:
   `import dayInSkopje from '@/data/reader/stories/day-in-skopje.json'`

4. Add a `category` field to the ReaderSample interface:
   `category: 'challenge' | 'conversation' | 'story'`

5. Update the samples Record to include category for each sample:
   - All day*-maliot-princ: category: 'challenge'
   - cafe-conversation: category: 'conversation'
   - day-in-skopje: category: 'story'

6. Add helper function:
   `export function getReaderSamplesByCategory(category: ReaderSample['category']): ReaderSample[]`
  </action>
  <verify>npm run type-check passes; npm run lint passes</verify>
  <done>All imports updated, category field added, helper function available</done>
</task>

<task type="auto">
  <name>Task 3: Remove deprecated samples directory</name>
  <files>data/reader/samples/</files>
  <action>
Remove the now-empty samples/ directory:
   rmdir data/reader/samples/

Verify it's gone and no references remain.
  </action>
  <verify>ls data/reader/ shows only challenges/, conversations/, stories/</verify>
  <done>Old samples/ directory removed, folder structure clean</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 32 JSON files in new category folders
- [ ] lib/reader-samples.ts compiles without errors
- [ ] `npm run type-check` passes
- [ ] `npm run lint` passes
- [ ] data/reader/samples/ no longer exists
</verification>

<success_criteria>
- Content physically organized by category
- Import system updated and working
- Category field available for filtering
- No broken imports or type errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-reader-reorganization/05-02-SUMMARY.md`
</output>
