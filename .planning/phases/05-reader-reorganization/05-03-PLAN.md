---
phase: 05-reader-reorganization
plan: 03
type: execute
---

<objective>
Update Reader UI to navigate content by category.

Purpose: Replace flat "All Readings" list with category-based navigation so users can easily find challenges, conversations, or stories.
Output: Reader Library tab shows content organized by category with clear section headers.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-reader-reorganization/05-02-SUMMARY.md

**Key files:**
@app/[locale]/reader/page.tsx
@lib/reader-samples.ts
@components/reader/ReadingSampleCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Reorganize Library tab into category sections</name>
  <files>app/[locale]/reader/page.tsx</files>
  <action>
Update the Library tab to show content by category:

1. Import `getReaderSamplesByCategory` from lib/reader-samples

2. Replace the single "All Readings" section with three category sections:
   - "Reading Challenges" (category: 'challenge')
     - Shows 30-Day Challenge as a featured card/section
     - "View all X chapters →" link
   - "Conversations" (category: 'conversation')
     - Grid of conversation samples
   - "Stories" (category: 'story')
     - Grid of story samples

3. Move the existing "30-Day Reading Challenge" section to be part of "Reading Challenges"
   - Keep the existing styling and "Start Day 1" CTA
   - Show first 4 items as preview

4. For search results, still show flat filtered list (existing behavior)

5. Update section headers to match existing design system:
   - Use existing `text-lg font-semibold` style
   - Keep "View all →" pattern

Keep the existing filter/search functionality - it should filter across all categories.
  </action>
  <verify>npm run type-check passes; npm run lint passes</verify>
  <done>Library tab shows Reading Challenges, Conversations, and Stories sections</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Reader page with category-based navigation</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/en/reader
    3. Verify Library tab shows:
       - "Reading Challenges" section with 30-Day Challenge
       - "Conversations" section (currently 1 item)
       - "Stories" section (currently 1 item)
    4. Test search - should filter across all categories
    5. Test difficulty filter - should work within each section
    6. Verify no visual regressions or broken layouts
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Update section empty states</name>
  <files>app/[locale]/reader/page.tsx</files>
  <action>
Add appropriate empty states for categories with no content:

1. If a category has 0 items, show a subtle message:
   - Conversations: "More conversations coming soon"
   - Stories: "More stories coming soon"

2. Reading Challenges should always show 30-Day Challenge content

3. Hide empty category sections entirely when user has active filters
   (if filtered results are empty, show the existing "No readings match" message)
  </action>
  <verify>npm run type-check passes</verify>
  <done>Empty states handled gracefully, no broken UI when categories are empty</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run type-check` passes
- [ ] `npm run lint` passes
- [ ] Reader shows categorized content
- [ ] Search/filter still works
- [ ] Human verified UI looks correct
</verification>

<success_criteria>
- Reader content organized by category (Challenges, Conversations, Stories)
- 30-Day Challenge clearly separated from other content
- Existing filter/search functionality preserved
- No visual regressions
- Phase 5 complete
</success_criteria>

<output>
After completion, create `.planning/phases/05-reader-reorganization/05-03-SUMMARY.md`
</output>
