---
phase: 63-practice-flow
plan: 02
type: execute
---

<objective>
Practice card components for 5 question types.

Purpose: Build reusable card components that handle different practice modes with the check-answer-feedback flow established in Phase 62.
Output: MultipleChoice, Typing, Cloze, TapWords, and Matching card components.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/63-practice-flow/63-01-SUMMARY.md

# Practice patterns from Phase 62:
@apps/mobile/components/lesson/PracticeSection.tsx

# Web card patterns:
@packages/practice/src/cards.ts
@packages/practice/src/session.ts

# Mobile practice lib:
@apps/mobile/lib/practice.ts

**Tech stack:** StyleSheet, TouchableOpacity, TextInput
**Established patterns:** Check button flow (select → check → feedback → next), gender-colored badges
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MultipleChoice card component</name>
  <files>apps/mobile/components/practice/MultipleChoiceCard.tsx</files>
  <action>
Build multiple choice card with 4 option buttons.

Props:
```typescript
type Props = {
  prompt: string;
  options: string[];
  correctAnswer: string;
  onAnswer: (answer: string, isCorrect: boolean) => void;
};
```

UI structure:
1. Prompt text (large, centered) - shows macedonian or english word
2. 4 option buttons (2x2 grid or vertical stack)
3. Check button (disabled until selection)
4. Feedback state: correct (green bg) / incorrect (red bg + show correct)
5. Next button after feedback

Flow:
- User taps option → option highlighted (blue border)
- User taps Check → evaluate answer
- Show feedback (1.5s auto-advance or manual Next tap)

Match PracticeSection.tsx patterns from Phase 62 for consistency.
Use colors: correct=#22c55e, incorrect=#ef4444, selected=#3b82f6.
  </action>
  <verify>Component renders with 4 options, check/feedback flow works</verify>
  <done>MultipleChoice card handles selection, check, feedback, and next transition</done>
</task>

<task type="auto">
  <name>Task 2: Create Typing card component</name>
  <files>apps/mobile/components/practice/TypingCard.tsx</files>
  <action>
Build typing card with text input for translation.

Props:
```typescript
type Props = {
  prompt: string;
  correctAnswer: string;
  placeholder?: string;
  onAnswer: (answer: string, isCorrect: boolean) => void;
};
```

UI structure:
1. Prompt text (the word to translate)
2. TextInput field (auto-focus, returnKeyType="done")
3. Macedonian keyboard hint (show special characters: ѓ ќ љ њ џ ж ш ч ц)
4. Check button (disabled when empty)
5. Feedback with correct answer shown

Answer evaluation:
- Trim whitespace, lowercase compare
- Accept common alternates (strip punctuation, articles)
- Use normalizeAnswer from @mk/practice patterns

Add "Skip" link below input for users who want to see answer.
  </action>
  <verify>Typing card accepts input, Check evaluates, shows feedback</verify>
  <done>Typing card with text input, keyboard hints, and answer evaluation</done>
</task>

<task type="auto">
  <name>Task 3: Create Cloze, TapWords, and Matching cards</name>
  <files>apps/mobile/components/practice/ClozeCard.tsx, apps/mobile/components/practice/TapWordsCard.tsx, apps/mobile/components/practice/MatchingCard.tsx</files>
  <action>
Build the remaining 3 card types.

**ClozeCard** - Fill in the blank:
- Show sentence with ___ blank
- TextInput for the missing word
- Translation hint below
- Same check/feedback flow as Typing

**TapWordsCard** - Tap words in order:
- Show scrambled word tiles
- User taps to build answer in order
- Tapped words move to answer row
- Can tap answer words to remove
- Check when answer row matches expected length

**MatchingCard** - Match pairs:
- Show 4 source words on left, 4 target words on right (shuffled)
- User taps source, then taps matching target
- Matched pairs dim out
- Complete when all 4 matched
- Auto-advances on completion

All cards follow same props pattern:
```typescript
type Props = {
  // Card-specific data
  onAnswer: (answer: string, isCorrect: boolean) => void;
};
```

Use consistent styling: dark theme, 48px touch targets, same color palette.
  </action>
  <verify>All 3 card components render and handle interactions</verify>
  <done>Cloze, TapWords, Matching cards functional with check/feedback</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run type-check` passes in apps/mobile
- [ ] All 5 card components export from components/practice/
- [ ] Each card handles the check → feedback → next flow
- [ ] Touch targets meet 48px minimum
</verification>

<success_criteria>

- 5 card types implemented with consistent patterns
- Check/feedback flow matches Phase 62 lesson practice
- Components are reusable with clear props interface
- Dark theme styling applied
</success_criteria>

<output>
After completion, create `.planning/phases/63-practice-flow/63-02-SUMMARY.md`
</output>
