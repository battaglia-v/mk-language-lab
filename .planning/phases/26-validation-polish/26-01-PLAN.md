---
phase: 26-validation-polish
plan: 01
type: execute
---

<objective>
Polish dark mode compliance and commit pending component refinements.

Purpose: Complete the final 5% of dark mode compliance and ensure all learn components use semantic design tokens.
Output: Clean git history with theme-compliant components, visual verification of dark mode.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./26-01-SUMMARY.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/CONVENTIONS.md

**Prior phase context:**
@.planning/phases/25-content-expansion/25-03-SUMMARY.md

**Pending changes (from git status):**
- components/learn/ConjugationTable.tsx - hardcoded colors → semantic tokens
- components/learn/DailyLessons.tsx - text-white/slate → text-foreground/muted-foreground
- components/learn/DialogueViewer.tsx - theme compliance fixes
- components/learn/GrammarSection.tsx - theme compliance fixes
- components/learn/VocabularySection.tsx - theme compliance fixes
- components/learn/quick-practice/Prompt.tsx - theme compliance fixes
- components/learn/LessonSection.tsx - NEW shared section component (untracked)
- data/curriculum/structured/a1-teskoto.backup.json - backup file to remove

**Tech stack available:** Next.js 16, Tailwind with semantic tokens (text-foreground, text-muted-foreground, bg-card, etc.)
**Established patterns:** Dark mode uses CSS variables via Tailwind semantic classes
</context>

<tasks>

<task type="auto">
  <name>Task 1: Review and commit dark mode component fixes</name>
  <files>components/learn/ConjugationTable.tsx, components/learn/DailyLessons.tsx, components/learn/DialogueViewer.tsx, components/learn/GrammarSection.tsx, components/learn/VocabularySection.tsx, components/learn/quick-practice/Prompt.tsx</files>
  <action>
    Review each modified file to verify the changes are purely dark mode/theme compliance:
    - Hardcoded colors (text-white, text-black, text-slate-*) → semantic tokens (text-foreground, text-muted-foreground)
    - Hardcoded backgrounds → semantic tokens (bg-card, bg-muted, etc.)

    If changes look correct, stage and commit them with a descriptive message.

    For the new LessonSection.tsx component, review if it's complete and ready to commit or should be gitignored for now.

    Remove the backup file: data/curriculum/structured/a1-teskoto.backup.json (this is a leftover from content editing).
  </action>
  <verify>git status shows clean working tree (or only intentionally untracked files)</verify>
  <done>All theme compliance changes committed, backup file removed, working tree clean</done>
</task>

<task type="auto">
  <name>Task 2: Verify dark mode renders correctly</name>
  <files>None (visual verification via build)</files>
  <action>
    Run the development server and verify key pages render correctly in both light and dark modes:
    - Check /en/learn (DailyLessons, lesson cards)
    - Check a lesson page with vocabulary/grammar sections
    - Check /en/practice (Practice Hub)
    - Check /en/reader (Reader library)

    Use browser devtools to toggle dark mode (or system preference).

    If any visual issues found, document them. If no issues, proceed.
  </action>
  <verify>npm run dev starts successfully, pages render without visual bugs in both themes</verify>
  <done>Dark mode compliance verified across learn, practice, reader sections</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Dark mode component fixes committed and visually verified</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/en/learn
    3. Toggle dark mode (system preference or browser devtools)
    4. Verify: DailyLessons cards, lesson titles, descriptions readable in both modes
    5. Visit: http://localhost:3000/en/learn/a1 → click any lesson
    6. Verify: Vocabulary cards, grammar sections render correctly in dark mode
    7. Check: No white text on white background, no black text on black background
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run lint` passes (or only pre-existing warnings)
- [ ] `npm run type-check` passes
- [ ] Git working tree is clean (pending changes committed)
- [ ] Dark mode visually verified on key pages
</verification>

<success_criteria>

- All pending theme compliance changes committed
- No hardcoded color values in modified components
- Dark mode renders correctly across learn section
- Backup files cleaned up
</success_criteria>

<output>
After completion, create `.planning/phases/26-validation-polish/26-01-SUMMARY.md`:

# Phase 26 Plan 01: Dark Mode & Component Polish Summary

**[One-liner describing what was accomplished]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description

## Commits

- [commit hash] message

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 26-02-PLAN.md (User Journey E2E Validation)
</output>
