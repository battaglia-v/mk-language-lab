---
phase: 36-a2-reader-wiring
plan: 01
type: execute
---

<objective>
Wire existing graded reader content to the reader UI and organize the library by level.

Purpose: Make A2 and B1 graded reader stories accessible through the Reader section, resolving ISS-001 and improving content discovery by level.
Output: All 12 graded reader stories (4 A1, 4 A2, 4 B1) accessible in the Reader library, organized by level.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/36-a2-reader-wiring/36-CONTEXT.md

# Source content:
@data/graded-readers.json

# Existing patterns:
@lib/reader-samples.ts
@data/reader/stories/day-in-skopje.json
@app/[locale]/reader/page.tsx

**Constraining decisions:**
- Reader samples use ReaderSample format with text_blocks_mk
- Stories display via ReadingSampleCard component
- Difficulty filter chips already exist in UI

**Issues being addressed:**
- ISS-001: Wire A2 graded readers to reader UI
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create graded reader JSON files in ReaderSample format</name>
  <files>
    data/reader/graded/a1-anas-family.json
    data/reader/graded/a1-my-morning.json
    data/reader/graded/a1-at-the-store.json
    data/reader/graded/a1-my-best-friend.json
    data/reader/graded/a2-day-in-ohrid.json
    data/reader/graded/a2-my-job.json
    data/reader/graded/a2-hobbies.json
    data/reader/graded/a2-the-holiday.json
    data/reader/graded/b1-easter-traditions.json
    data/reader/graded/b1-macedonian-cuisine.json
    data/reader/graded/b1-city-vs-village.json
    data/reader/graded/b1-macedonian-legends.json
  </files>
  <action>
    Transform each story from data/graded-readers.json into ReaderSample format:

    1. Create data/reader/graded/ directory
    2. For each story in graded-readers.json, create a JSON file with:
       - id: kebab-case from story id (e.g., "reader-a1-001" → "a1-anas-family")
       - locale: "mk"
       - title_mk, title_en: from title.mk, title.en
       - difficulty: from level (A1/A2/B1)
       - estimatedMinutes: from estimatedMinutes
       - tags: ["graded-reader", level, category]
       - text_blocks_mk: Convert sentences to paragraphs (join every 3-4 sentences, use "p" type)
       - grammar_highlights: Transform grammarHighlight if present (with title_mk, title_en, examples)
       - vocabulary: Flatten from sentences (unique words only)
       - expressions: Extract any conversational patterns
       - attribution: { handle: "@mklanguagelab", series: "Graded Readers", day: story category }

    Do NOT include comprehensionQuestions (not used by ReaderSample format).
    Use existing day-in-skopje.json as reference for exact field structure.
  </action>
  <verify>
    All 12 JSON files exist in data/reader/graded/ with valid JSON and correct field structure.
    Run: `cat data/reader/graded/a2-my-job.json | head -30` shows proper ReaderSample format.
  </verify>
  <done>12 graded reader JSON files created matching ReaderSample interface</done>
</task>

<task type="auto">
  <name>Task 2: Wire graded readers into reader-samples.ts and update reader page</name>
  <files>
    lib/reader-samples.ts
    app/[locale]/reader/page.tsx
  </files>
  <action>
    1. In lib/reader-samples.ts:
       - Add imports for all 12 graded reader JSON files
       - Add them to samples record with category 'story'
       - Keep existing samples unchanged

    2. In app/[locale]/reader/page.tsx:
       - Add a new "Graded Readers" section between "Conversations" and "Stories"
       - Group stories by level (A1 Beginner, A2 Elementary, B1 Intermediate)
       - Use existing ReadingSampleCard and difficulty color scheme
       - Each level shows its stories in a grid
       - Structure:
         ```
         Graded Readers
         ├── A1 - Beginner (4 stories)
         ├── A2 - Elementary (4 stories)
         └── B1 - Intermediate (4 stories)
         ```

    Keep all existing functionality (search, filters, other sections) unchanged.
  </action>
  <verify>
    - `npm run type-check` passes
    - `npm run lint` passes with no new warnings
    - Navigate to /en/reader and verify:
      - Graded Readers section appears with 3 level groupings
      - Each level shows 4 story cards
      - Clicking a story opens the reader view
      - Difficulty filter chips work for graded reader stories
  </verify>
  <done>
    - 12 graded reader stories accessible in Reader library
    - Stories organized by level with clear section headers
    - All existing functionality preserved
  </done>
</task>

<task type="auto">
  <name>Task 3: Close ISS-001 and update STATE.md</name>
  <files>
    .planning/ISSUES.md
    .planning/STATE.md
  </files>
  <action>
    1. In ISSUES.md:
       - Move ISS-001 from "Open Enhancements" to "Closed Enhancements"
       - Add resolution note: "Resolved in Phase 36 - A2 Reader Wiring (2026-01-10)"

    2. In STATE.md:
       - Update Current Position to show Phase 36 complete
       - Update Deferred Issues to remove ISS-001
       - Add brief note to Roadmap Evolution about graded readers being wired
  </action>
  <verify>
    - ISS-001 no longer in Open Enhancements section
    - STATE.md reflects phase completion
  </verify>
  <done>Project tracking updated, ISS-001 closed</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run type-check` passes
- [ ] `npm run lint` passes
- [ ] 12 graded reader stories visible in Reader library
- [ ] Stories grouped by level (A1, A2, B1)
- [ ] Clicking any story opens reader view correctly
- [ ] Difficulty filter works for all stories
- [ ] ISS-001 marked as closed
</verification>

<success_criteria>

- All 12 graded reader stories accessible in Reader section
- Stories organized by level with clear visual grouping
- Consistent reader experience between new and existing stories
- ISS-001 resolved
- No TypeScript or lint errors introduced
</success_criteria>

<output>
After completion, create `.planning/phases/36-a2-reader-wiring/36-01-SUMMARY.md`
</output>
