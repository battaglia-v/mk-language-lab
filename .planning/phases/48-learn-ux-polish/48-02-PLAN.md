---
phase: 48-learn-ux-polish
plan: 02
type: execute
---

<objective>
Polish vocabulary cards and grammar section visual presentation.

Purpose: Improve responsive grid for vocabulary cards and add subtle animations to grammar expand/collapse for a more refined learning experience.
Output: Enhanced VocabularySection with better responsive grid and GrammarSection with smooth expand/collapse transitions.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan context:
@.planning/phases/48-learn-ux-polish/48-01-PLAN.md (if exists, reference summary)

# Key files:
@components/learn/VocabularySection.tsx
@components/learn/GrammarSection.tsx

**Established patterns:**
- CSS-only transitions preferred
- Touch targets: 48px minimum (already done in GrammarSection buttons)
- Tailwind animations: transition-all duration-200/300

**Current issues identified:**
- VocabularySection: grid-cols-1 md:grid-cols-2 jumps directly — needs sm breakpoint
- GrammarSection: expand/collapse ChevronDown/ChevronUp icons don't animate rotation
- Example number circles could have subtle background matching section color
</context>

<tasks>

<task type="auto">
  <name>Task 1: Improve vocabulary grid responsiveness</name>
  <files>components/learn/VocabularySection.tsx</files>
  <action>
Update the vocabulary grid for smoother responsive breakpoints:
1. Change from `grid-cols-1 md:grid-cols-2` to `grid-cols-1 sm:grid-cols-2`
2. Keep gap-4 (16px) which works well at all sizes
3. Add staggered animation for card appearance using Tailwind's animation utilities:
   - Add `animate-in fade-in slide-in-from-bottom-2` to each card
   - Use inline style for stagger delay: `animationDelay: ${index * 50}ms`

Why: The md breakpoint (768px) is tablet-sized; vocabulary cards work well in 2 columns on larger phones (640px+). Staggered animations add polish without JavaScript.

Do NOT change the card internal styling or reveal interaction — those work well as-is.
  </action>
  <verify>Run `npm run type-check` to ensure no TypeScript errors</verify>
  <done>Vocabulary grid shows 2 columns at sm (640px+) with staggered fade-in animation</done>
</task>

<task type="auto">
  <name>Task 2: Add expand/collapse animations to grammar section</name>
  <files>components/learn/GrammarSection.tsx</files>
  <action>
Add subtle animations to the expand/collapse interactions:

1. Chevron icon rotation:
   - Wrap ChevronDown/ChevronUp in a span with `transition-transform duration-200`
   - Use single ChevronDown icon that rotates: `rotate-0` when collapsed, `rotate-180` when expanded
   - This eliminates icon swap and creates smooth rotation

2. Content expand animation:
   - The explanation text with `line-clamp-2` should animate height
   - Add `transition-all duration-300` to the paragraph element
   - When expanded, remove line-clamp and let content flow naturally

3. Examples expand animation:
   - Apply same chevron rotation pattern to "Show more examples" button
   - Keep the `min-h-[48px]` touch target (already present)

Pattern to follow:
```tsx
<ChevronDown
  className={cn(
    "h-4 w-4 transition-transform duration-200",
    isExpanded && "rotate-180"
  )}
/>
```

Why: Animated state changes feel more polished than instant swaps. The rotation provides clear visual feedback of the toggle action.
  </action>
  <verify>Run `npm run type-check` to ensure no TypeScript errors</verify>
  <done>Grammar section has smooth chevron rotation and content expand animations</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Responsive vocabulary grid and animated grammar expand/collapse</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/en/learn
    3. Click any lesson with vocabulary and grammar content

    4. Vocabulary section test:
       - Desktop (1024px+): Should show 2 columns
       - Tablet (768px): Should show 2 columns
       - Mobile (640px): Should show 2 columns
       - Small mobile (375px): Should show 1 column
       - Cards should fade in with slight stagger effect on page load

    5. Grammar section test:
       - Click "Read more" on a grammar note with long explanation
       - Chevron icon should smoothly rotate 180 degrees
       - Content should expand smoothly (not instant)
       - Click "Show less" — chevron should rotate back
       - Test "Show more examples" — same rotation behavior

    6. Dark mode: Verify both sections look good in dark mode
    7. Confirm: No jank, no layout shifts during animations
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run type-check` passes
- [ ] `npm run lint` passes
- [ ] Vocabulary grid responsive at sm breakpoint
- [ ] Grammar chevrons animate rotation smoothly
- [ ] Content expand/collapse transitions are smooth
- [ ] Dark mode appearance verified
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Vocabulary shows 2 columns on tablets/phones (sm+)
- Grammar expand/collapse has smooth animations
- Human verification approved
- Phase 48 complete
</success_criteria>

<output>
After completion, create `.planning/phases/48-learn-ux-polish/48-02-SUMMARY.md`
</output>
