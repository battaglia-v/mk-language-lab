---
phase: 14-content-validation
plan: 01
type: execute
---

<objective>
Validate all curriculum content meets v1.1 quality criteria and practice mode requirements.

Purpose: Ensure content populated in Phases 10-13 is correct, translatable, and ready for production use.
Output: VALIDATION.md report documenting content quality status and any issues found.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior summaries (vocabulary and grammar content creation)
@.planning/phases/10-a1-vocabulary-extraction/10-01-SUMMARY.md
@.planning/phases/11-a1-grammar-content/11-01-SUMMARY.md
@.planning/phases/12-a2-content-population/12-01-SUMMARY.md
@.planning/phases/12.1-ux-fixes/12.1-02-SUMMARY.md
@.planning/phases/13-b1-content-bootstrap/13-03-SUMMARY.md

# Key files
@data/curriculum/structured/a1-teskoto.json
@data/curriculum/structured/a2-lozje.json
@data/curriculum/structured/b1-zlatovrv.json
@prisma/seed-curriculum-ukim.ts

**v1.1 Success Criteria to verify:**
- [x] A1 lessons have 20+ vocabulary items each (min 74, avg 217 - exceeds target)
- [x] A1 grammar notes have explanations and 3+ examples each (73/73 complete)
- [x] A2 lessons have vocabulary and grammar populated (8,372 vocab, 46 grammar)
- [x] B1 has at least skeleton vocabulary per lesson (12,004 items)
- [ ] No garbled OCR text in user-facing content
- [ ] Practice mode has sufficient content to function

**What this plan validates:**
1. Content quality - no garbled text, valid translations
2. Structure compatibility - JSON matches seeding script expectations
3. Coverage metrics - document final counts for milestone completion
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create content validation script</name>
  <files>scripts/curriculum/validate-content.ts</files>
  <action>
Create a validation script that:
1. Loads all three curriculum JSON files (a1-teskoto, a2-lozje, b1-zlatovrv)
2. Validates structure matches seed-curriculum-ukim.ts expectations:
   - chapters[] with lessonNumber, title, titleMk, vocabularyItems[], grammarNotes[]
   - vocabularyItems: word, translation, partOfSpeech, context
   - grammarNotes: title, content, examples[], translatedExamples[]
3. Checks for garbled content patterns:
   - Vocabulary words with >20 chars (potential OCR garbage)
   - Non-Cyrillic characters in Macedonian fields
   - Duplicate consecutive characters (e.g., "аааа")
   - Translations that equal the source word
   - Empty or single-char translations
4. Validates coverage:
   - Each lesson has vocabulary items
   - Each grammar note has explanation and examples
   - Translations exist for vocabulary and grammar examples
5. Outputs JSON report with pass/fail status per check

Use existing patterns from scripts/curriculum/audit-extraction.ts for structure.
  </action>
  <verify>npx tsx scripts/curriculum/validate-content.ts runs without error</verify>
  <done>Script produces validation report with pass/fail for each category</done>
</task>

<task type="auto">
  <name>Task 2: Run validation and generate report</name>
  <files>.planning/phases/14-content-validation/VALIDATION.md</files>
  <action>
Run the validation script and create VALIDATION.md report:
1. Execute validation script, capture output
2. Create markdown report with:
   - Executive summary (overall pass/fail, key metrics)
   - Content counts per level (vocab, grammar, translations)
   - Quality checks results (garbled text, invalid chars, duplicates)
   - Issues found (if any) with specific examples
   - Recommendations for Phase 15 (practice integration)
3. Update v1.1 success criteria checkboxes based on validation results

If issues found:
- Document specific examples (word, translation, location)
- Assess severity (blocking vs. minor)
- Recommend fix approach if needed
  </action>
  <verify>cat .planning/phases/14-content-validation/VALIDATION.md shows complete report</verify>
  <done>VALIDATION.md exists with executive summary, metrics, and clear pass/fail status</done>
</task>

<task type="auto">
  <name>Task 3: Verify seed script compatibility</name>
  <files>prisma/seed-curriculum-ukim.ts</files>
  <action>
Verify the seeding script can process the updated JSON:
1. Add dry-run mode to seed-curriculum-ukim.ts that validates without writing:
   - Parse all JSON files
   - Validate required fields exist
   - Count items that would be created
   - Report any parsing errors
2. Run dry-run and capture results
3. Update VALIDATION.md with seed compatibility status

Do NOT actually seed the database - just validate the script can parse the files.
  </action>
  <verify>npm run db:seed:ukim -- --dry-run shows successful parsing with item counts</verify>
  <done>Seed script has dry-run mode, parses all JSON successfully, item counts logged</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npx tsx scripts/curriculum/validate-content.ts` runs successfully
- [ ] VALIDATION.md exists with complete report
- [ ] All v1.1 content criteria documented as pass/fail
- [ ] Seed script dry-run succeeds
- [ ] No blocking issues identified (or issues documented with fix plan)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- VALIDATION.md documents:
  - Content counts meet targets (A1: 20+/lesson, grammar with examples)
  - No garbled OCR text in user-facing content
  - JSON structure compatible with seeding
- Clear go/no-go recommendation for Phase 15
</success_criteria>

<output>
After completion, create `.planning/phases/14-content-validation/14-01-SUMMARY.md`:

# Phase 14 Plan 01: Content Validation Summary

**[Status: Pass/Fail with key metric]**

## Accomplishments

- [Key validation results]

## Files Created/Modified

- `scripts/curriculum/validate-content.ts` - Validation script
- `.planning/phases/14-content-validation/VALIDATION.md` - Full report
- `prisma/seed-curriculum-ukim.ts` - Added dry-run mode

## Validation Results

[Summary of pass/fail checks]

## Issues Found

[Any issues or "None - all checks passed"]

## Next Phase Readiness

[Clear recommendation for Phase 15 - Practice Integration]
</output>
