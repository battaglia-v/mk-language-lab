---
phase: 15-practice-integration
plan: 01
type: execute
---

<objective>
Verify practice mode functions correctly with the populated UKIM curriculum content.

Purpose: Complete v1.1 success criteria by confirming practice mode has sufficient content to function end-to-end.
Output: Seeded database, passing E2E tests, and verified practice flow.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-content-validation/14-01-SUMMARY.md
@.planning/phases/14-content-validation/VALIDATION.md
@prisma/seed-curriculum-ukim.ts
@e2e/practice.spec.ts
@app/api/practice/lesson-vocab/route.ts

**Prior Phase Context:**
- Phase 14 validated all content: 25,577 vocabulary items, 146 grammar notes, 99.1% translation coverage
- Seed script dry-run passed successfully
- Lesson-vocab API (Phase 3) returns vocabulary from completed lessons via VocabularyItem table
- E2E tests exist for practice page but test general UI, not curriculum content

**v1.1 Success Criteria (remaining):**
- [x] No garbled OCR text (Phase 14 verified)
- [ ] Practice mode has sufficient content to function ‚Üê THIS PHASE
</context>

<tasks>

<task type="auto">
  <name>Task 1: Seed curriculum to local database</name>
  <files>prisma/seed-curriculum-ukim.ts</files>
  <action>
Run the UKIM curriculum seed script to populate VocabularyItem and GrammarNote tables:

1. Ensure local Postgres is running (Docker or native)
2. Run: `npm run db:seed:ukim`
3. Verify output shows all 3 levels seeded with expected counts

Expected output:
- A1: ~5,201 vocabulary, 73 grammar
- A2: ~8,372 vocabulary, 46 grammar
- B1: ~12,004 vocabulary, 27 grammar
- Total: ~25,577 vocabulary items, 146 grammar notes

If database connection fails, ensure `DATABASE_URL` in .env.local points to a running Postgres instance.
  </action>
  <verify>Seed script completes without errors and reports all levels seeded</verify>
  <done>Database contains 40 lessons, ~25,577 VocabularyItem records, 146 GrammarNote records</done>
</task>

<task type="auto">
  <name>Task 2: Run practice E2E tests</name>
  <files>e2e/practice.spec.ts, e2e/grammar-practice.spec.ts</files>
  <action>
Run the practice-related E2E tests to verify practice mode loads and functions:

1. Start dev server if not running: `npm run dev` (background)
2. Run practice tests: `npx playwright test e2e/practice.spec.ts e2e/grammar-practice.spec.ts`
3. Review results for any failures

These tests verify:
- Practice page loads successfully
- Grammar practice mode accessible
- Mobile layouts render correctly
- Practice content displays

Note: E2E tests run against the dev server with seeded database from Task 1.
  </action>
  <verify>npx playwright test e2e/practice.spec.ts e2e/grammar-practice.spec.ts passes</verify>
  <done>All practice E2E tests pass (practice.spec.ts + grammar-practice.spec.ts)</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Seeded database with curriculum content and verified E2E tests pass</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Navigate to http://localhost:3000/en/learn (or /mk/learn)
    3. Mark the first A1 lesson as complete (click through lesson content)
    4. Navigate to http://localhost:3000/en/practice
    5. Verify vocabulary practice shows items from the completed lesson
    6. Navigate to http://localhost:3000/en/practice/grammar
    7. Verify grammar practice shows grammar notes with examples
    8. Confirm: Practice has sufficient content to function

    Expected behavior:
    - Vocabulary flashcards show Macedonian words with English translations
    - Grammar notes display explanations and 3+ examples
    - No garbled or placeholder text visible
  </how-to-verify>
  <resume-signal>Type "approved" to confirm practice mode functions, or describe issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] Database seeded with all curriculum content (~25,577 vocabulary items)
- [ ] E2E practice tests pass
- [ ] Manual verification confirms practice displays real content
- [ ] v1.1 success criterion "Practice mode has sufficient content" is met
</verification>

<success_criteria>

- All tasks completed
- Database contains seeded curriculum content
- E2E tests pass
- Human verification confirms practice mode functions correctly
- v1.1 milestone ready for completion
</success_criteria>

<output>
After completion, create `.planning/phases/15-practice-integration/15-01-SUMMARY.md`:

# Phase 15 Plan 01: Practice Integration Summary

**[One-liner summarizing what was verified]**

## Performance

- **Duration:** X min
- **Started:** TIMESTAMP
- **Completed:** TIMESTAMP
- **Tasks:** 3

## Accomplishments

- Seeded database with X vocabulary items and Y grammar notes
- E2E practice tests passing
- Manual verification confirmed practice mode functions

## Files Created/Modified

- (list any files if changes needed)

## Decisions Made

- (any decisions or "None")

## Issues Encountered

- (problems and resolutions, or "None")

## v1.1 Completion Status

- [ ] All success criteria verified
- [ ] Milestone ready for completion

## Next Step

v1.1 milestone complete, ready for production deployment or next milestone planning
</output>
